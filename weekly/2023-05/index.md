---
title: 2023-05
date: 2023-05-21 23:00:00+0800
---

因为摆烂，又拖成了双周报。。。

## 工作

* 正式开始了开源实习（无薪被白嫖）的工作哈哈
    * Quick fix 了一个配置项导致的 bug，其实就是为默认情况找一个默认值，来区分是配置为0还是没有配置。当时的第一个想法是将这个配置改成 string，就很容易的能够区分了。但是，大佬提了一个问题就是会产生 break change，所以更推荐将默认值设置为一个不可能存在的数。
    * 对多行切分能力进行调研。调研完发现其实大多数竞品中，对于多行日志其实是进行聚合操作。而在 iLogtail 里，由于是以 LogGroup 为单位读取的，所以反而是需要进行 split 操作。这里 batch read 的方式显然有更高的 IO 效率，所以还需要进一步调研其他竞品的 read 方式，为什么能够实现一行一行 parse。
    * 另一个 PR 方向是关于使用 C++ 实现 Go 时间格式的解析。阅读了 Go 的源码才发现，Go 那种看上去很智能的 example-based 的配置方式，背后其实是上千行的 switch 匹配。。所以，很多情况下，要使用这个神秘日期来作为样例：2006-01-02 15:04:05。这个日期也不是随便选取的，更不是网上传言的 Go 语言开始开发的时间。这个时间是经过精心设计的，年月日小时分钟秒，都完美的错开了，因此，在进行匹配的时候，可以轻松的识别到这个数字是哪个时间单位。
* 时隔一年多，Dolphinscheduler 的 PR 终于合进去了呜呜呜。哎，本来可能会有很多 impact 的，但拖得时间太久了，相关的大佬也都不耐烦了，所以最后的合入也没有掀起什么波澜。
* 华为的下一期合作项目开始了。经过了上一次的培训（毒打），这次上手的思路明显清晰了很多。先调研，然后系统性的设计，最后是细节的推敲。而且，这次的题目还是蛮有意思的。过去的所有数据故事的研究都是针对于一张数据表，或者是将多张数据表合并成一个。而新的一期是关注于多张数据表及其之间的关系，感觉有很多创新性的事情可以做。
* 又是当导师秘书的两周。。。

## 生活

* 终究是没逃掉。。还是阳了。
    * 想了想，原因可能还是因为周末从黄兴公园乱逛，然后跑到八佰伴乱逛，全程没有带口罩传染上的。
    * 感觉自己症状还算轻的，发烧温度没有达到太高，其他症状也不严重，除了胸闷有点吓人（主要是心脏不好）。为了检查心脏还浪费了600多块钱呜呜呜
    * 宝矿力立大功！蹭了室友的两大瓶宝矿力之后，嗓子，鼻塞都好的巨快。
    * 写这篇周报的时候已经转阴了，总结一下过程：周一嗓子略有感觉，周二发烧，周三抗原阳，周四温度最高，开始鼻塞，周五不发烧了，周六明显好转，周日转阴。总的来说，感觉之前健身一个月还是有帮助的，整个过程算康复比较快了。
* 阳之前属于疯狂浪的阶段。周六去了生活如沸，b站开的顺德火锅。结果我被辣的第二天直接拉肚子。
* 第二天陪同学去租房子。感觉自己之后租的话，更倾向于小区，而不是公寓。小区更加有生活气息，公寓会始终让自己感觉是一个过客，这个房间之外的一切都不属于自己，而小区里还有各种设施。
* 最后，去八佰伴第一次尝试了印度菜。干净又卫生啊xdm。没有想象中的恐怖，感觉除了咖喱之外的菜做的都非常中式。心仪菜单里加上了牛奶咖喱了，好恰。
* 又是脱单焦虑的一周 TAT

## 思考

* 导师给我推了一个 MSRA 的 engineering intern 实习，基本上是我想去就可以去了。MSRA 啊，我从大三开始的梦中情司，而且还是进去做 GPT-related，四舍五入等于进 OpenAI 了，直接起飞！一直羡慕的导师送实习终于发生在自己身上，泪目 TAT。但最后考虑了很久，还是拒绝了：
    * 没有转正，所以我感觉这个实习更加适合去读 PHD 的同学
    * 由于 P4 事件，我也认真的考虑了读博这件事，也把读博作为可选的道路之一。但我肯定是会去读 sys 的博士的，与 MSRA 做的研究肯定没关系
    * AIGC 我认为一定是未来的发展方向。但这东西进学校做，就受限太多了，资源不够充足。而现在的 AIGC 工作除了大厂核心组，只有创业公司。所以，我个人还是倾向于以副业的形式，跟上这波潮流。
    * 所以，总的来说，MSRA + GPT 的实习含金量绝对是 T0 的，但其价值因人而异。至少对于互联网寒冬中找工作的我来说，它的帮助是稍弱于阿里云的。
